<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\..\..\T4Toolbox.Common.props" />
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <ProjectTypeGuids>{82b43b9b-a64c-4715-b499-d71e9ca2bd60};{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}</ProjectTypeGuids>
    <ProjectGuid>{965A6620-7CDD-405A-AFCD-5318F5F21A67}</ProjectGuid>
    <OutputType>Library</OutputType>
    <!-- On AppVeyor build agent, use dynamically generated package version. Locally, hardcode to 16.0.0.0 -->
    <PackageVersion Condition=" '$(appveyor_build_version)' != '' ">$(appveyor_build_version)</PackageVersion>
    <PackageVersion Condition=" '$(appveyor_build_version)' == '' ">16.0.0.0</PackageVersion>
    <!-- VSSDK properties -->
    <TargetVsixContainerName>T4Toolbox.$(PackageVersion).vsix</TargetVsixContainerName>
    <GeneratePkgDefFile>false</GeneratePkgDefFile>
    <IncludeAssemblyInVSIXContainer>false</IncludeAssemblyInVSIXContainer>
    <IncludeDebugSymbolsInVSIXContainer>false</IncludeDebugSymbolsInVSIXContainer>
    <IncludeDebugSymbolsInLocalVSIXDeployment>false</IncludeDebugSymbolsInLocalVSIXDeployment>
    <CopyBuildOutputToOutputDirectory>false</CopyBuildOutputToOutputDirectory>
    <CopyOutputSymbolsToOutputDirectory>false</CopyOutputSymbolsToOutputDirectory>
    <!-- Suppress C# warning about missing source files -->
    <NoWarn>2008</NoWarn>
    <!-- Disable extension when building on build agent to prevent the DeployVsixExtensionFiles target from failing on AppVeyor -->
    <DeployExtension Condition=" '$(BuildingInsideVisualStudio)' != 'true' ">false</DeployExtension>
    <!-- Disable FxCop - no assembly -->
    <RunCodeAnalysis>false</RunCodeAnalysis>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DefineConstants>TRACE;DEBUG;VS2019</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DefineConstants>TRACE;VS2019</DefineConstants>
  </PropertyGroup>
  <ItemGroup>
    <ProjectReference Include="..\T4Toolbox.DirectiveProcessors\T4Toolbox.DirectiveProcessors.csproj">
      <Project>{5b222966-eb47-4a58-aa08-87577a4cd628}</Project>
      <Name>T4Toolbox.DirectiveProcessors</Name>
      <IncludeOutputGroupsInVSIX>BuiltProjectOutputGroup</IncludeOutputGroupsInVSIX>
    </ProjectReference>
    <ProjectReference Include="..\T4Toolbox.TemplateAnalysis\T4Toolbox.TemplateAnalysis.csproj">
      <Project>{93bb161a-5947-4ea8-b557-e05414e823f2}</Project>
      <Name>T4Toolbox.TemplateAnalysis</Name>
      <IncludeOutputGroupsInVSIX>BuiltProjectOutputGroup</IncludeOutputGroupsInVSIX>
    </ProjectReference>
    <ProjectReference Include="..\T4Toolbox.VisualStudio.Editor\T4Toolbox.VisualStudio.Editor.csproj">
      <Project>{3899e3cb-5898-47f5-9203-36d823769e91}</Project>
      <Name>T4Toolbox.VisualStudio.Editor</Name>
      <IncludeOutputGroupsInVSIX>BuiltProjectOutputGroup%3bBuiltProjectOutputGroupDependencies%3bGetCopyToOutputDirectoryItems%3bSatelliteDllsProjectOutputGroup%3b</IncludeOutputGroupsInVSIX>
    </ProjectReference>
    <ProjectReference Include="..\T4Toolbox.VisualStudio.ItemTemplates\T4Toolbox.VisualStudio.ItemTemplates.csproj">
      <Project>{47a5785f-7410-4b74-bcaf-f5e74bfae25e}</Project>
      <Name>T4Toolbox.VisualStudio.ItemTemplates</Name>
      <VSIXSubPath>ItemTemplates</VSIXSubPath>
      <ReferenceOutputAssembly>false</ReferenceOutputAssembly>
      <IncludeOutputGroupsInVSIX>TemplateProjectOutputGroup</IncludeOutputGroupsInVSIX>
    </ProjectReference>
    <ProjectReference Include="..\T4Toolbox.VisualStudio\T4Toolbox.VisualStudio.csproj">
      <Project>{40c635b9-1f5d-49bb-bb2e-9d3cbb2a1d94}</Project>
      <Name>T4Toolbox.VisualStudio</Name>
      <IncludeOutputGroupsInVSIX>BuiltProjectOutputGroup%3bPkgdefProjectOutputGroup%3bBuiltProjectOutputGroup%3bBuiltProjectOutputGroupDependencies%3bGetCopyToOutputDirectoryItems%3bSatelliteDllsProjectOutputGroup%3b</IncludeOutputGroupsInVSIX>
      <IncludeOutputGroupsInVSIXLocalOnly>DebugSymbolsProjectOutputGroup%3b</IncludeOutputGroupsInVSIXLocalOnly>
    </ProjectReference>
    <ProjectReference Include="..\T4Toolbox\T4Toolbox.csproj">
      <Project>{682e771a-76f7-4972-bbdc-1250b67f399b}</Project>
      <Name>T4Toolbox</Name>
      <IncludeOutputGroupsInVSIX>BuiltProjectOutputGroup</IncludeOutputGroupsInVSIX>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <Content Include="..\..\T4Toolbox.vsix\DarkTheme.pkgdef">
      <Link>DarkTheme.pkgdef</Link>
      <IncludeInVSIX>true</IncludeInVSIX>
    </Content>
    <Content Include="..\..\T4Toolbox.vsix\Include\T4Toolbox.tt">
      <Link>Include\T4Toolbox.tt</Link>
      <IncludeInVSIX>true</IncludeInVSIX>
    </Content>
    <Content Include="License.txt">
      <IncludeInVSIX>true</IncludeInVSIX>
    </Content>
    <None Include="..\..\T4Toolbox.vsix\Dark.vstheme">
      <Link>Dark.vstheme</Link>
      <IncludeInVSIX>true</IncludeInVSIX>
    </None>
    <None Include="source.extension.vsixmanifest" />
  </ItemGroup>
  <Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />
  <Import Project="$(VSToolsPath)\VSSDK\Microsoft.VsSDK.targets" />
  <!-- Used by the Version attribute in the source.extension.manifest -->
  <Target Name="GetPackageVersion" Outputs="$(PackageVersion)" />
</Project>